<html>
  <head>
    <title>Index</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script>
        
        function Qdata1() {
            $$.post(
                'http://127.0.0.1:8002/JsonOutput',
                {   
                	'test': 'XD'
                },
                function(data){
					alert(data["A"])        
                }
            );
     		// alert("apple")
        }
        function Qdata2() {
            $$.post(
                'http://127.0.0.1:8002/DBOutput',
                {   
                	'test': 'XD'
                },
                function(data){
					alert(data[0]["acc"]+" + "+data[0]["pass"])        
                }
            );
     		// alert("apple")
        }  
        function test(){
            $$.post(
                '/mithril',
                {   
                    'test': 'XD'
                },
                function(data){
                    console.log(data)
                    var client_id = data[0]
                    var client_key = data[1]
                    var user_id = data[2]
                    var timestamp = data[3]
                    var nonce = data[4]
                    var state = data[5]
                    var signature = data[6] 

                    var settings = {
                      "url": "https://2019-hackathon.api.mithvault.io/oauth/authorize",
                      "method": "POST",
                      "timeout": 0,
                      "headers": {
                        "X-Vault-Signature": signature,
                        "Content-Type": "application/json",
                        "Authorization": "Basic " + client_key
                      },
                      "data":   { 
                                    client_id   : client_id , 
                                    timestamp   : timestamp,
                                    nonce       : nonce       ,
                                    state       : state     ,
                                    user_id     : user_id   
                                }
                    };

                    $$.ajax(settings).done(function (response) {
                      console.log(response);
                    });                                         
                }
            );            

        }
    </script>     
  </head>
  <body>
    <h1>Hello World!!</h1>
	<button onclick="Qdata1()">接收JSON格式</button>
	<button onclick="Qdata2()">資料庫回傳</button>
	<form action="/in" method="post">
		　姓名：<input type="text" name="user"><br>
		　內容：<input type="text" name="password"><br>
		　<input type="submit" value="送出表單">
	</form>
    <img src="static/images/01.gif">

    <br><br><br>
    <button onclick="test()" type="button">mithril</button>
    <br>
    <a href="/mithril/grant_code">grant_code</a>
    <br>
    <a href="/mithril/token">token</a>
    <br>
    <a href="/mithril/delete">delete</a>
  </body>
</html>
